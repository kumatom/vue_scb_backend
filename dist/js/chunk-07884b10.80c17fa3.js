(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07884b10"],{"69ba":function(e,t,s){},"99af":function(e,t,s){"use strict";var a=s("23e7"),c=s("d039"),n=s("e8b5"),o=s("861d"),r=s("7b0b"),i=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),h=s("b622"),b=s("2d00"),m=h("isConcatSpreadable"),f=9007199254740991,p="Maximum allowed index exceeded",g=b>=51||!c((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),j=d("concat"),w=function(e){if(!o(e))return!1;var t=e[m];return void 0!==t?!!t:n(e)},O=!g||!j;a({target:"Array",proto:!0,forced:O},{concat:function(e){var t,s,a,c,n,o=r(this),d=u(o,0),h=0;for(t=-1,a=arguments.length;t<a;t++)if(n=-1===t?o:arguments[t],w(n)){if(c=i(n.length),h+c>f)throw TypeError(p);for(s=0;s<c;s++,h++)s in n&&l(d,h,n[s])}else{if(h>=f)throw TypeError(p);l(d,h++,n)}return d.length=h,d}})},a55b:function(e,t,s){"use strict";s.r(t);var a=s("7a23"),c={class:"card shadow-lg card-signin"},n={class:"card-body"},o={class:"row justify-content-center"},r=Object(a["h"])("h1",{class:"h3 mb-3 font-weight-normal text-white"},[Object(a["g"])(" 後台登入 "),Object(a["h"])("i",{class:"bi bi-person-circle text-dark"})],-1),i={class:"col-12 text-start"},l={class:"form-floating mb-3"},u=Object(a["h"])("label",{for:"username",class:"form-label"},"使用者帳號",-1),d={class:"form-floating mb-3"},h=Object(a["h"])("label",{for:"password",class:"form-label"},"使用者密碼",-1),b=Object(a["h"])("button",{id:"btn-login",class:"btn btn-lg btn-dark w-100 mt-3",type:"submit"}," 登入 ",-1),m=Object(a["h"])("p",{class:"mt-5 mb-3 text-white"}," © 2021~∞ - 六角學院 ",-1),f={class:"d-flex justify-content-center w-100"};function p(e,t,s,p,g,j){var w=Object(a["A"])("Field"),O=Object(a["A"])("ErrorMessage"),v=Object(a["A"])("Form"),k=Object(a["A"])("Alert");return Object(a["t"])(),Object(a["e"])(a["a"],null,[Object(a["h"])("div",c,[Object(a["h"])("div",n,[Object(a["h"])("div",o,[r,Object(a["h"])("div",i,[Object(a["h"])(v,{id:"form",class:"form-signin",onSubmit:j.onLogin},{default:Object(a["L"])((function(e){var s=e.errors;return[Object(a["h"])("div",l,[Object(a["h"])(w,{id:"username",name:"username",type:"email",class:["form-control",{"is-invalid":s["username"]}],placeholder:"請輸入帳號",rules:"email|required",modelValue:g.user.username,"onUpdate:modelValue":t[1]||(t[1]=function(e){return g.user.username=e})},null,8,["class","modelValue"]),u,Object(a["h"])(O,{name:"username",class:"invalid-feedback"})]),Object(a["h"])("div",d,[Object(a["h"])(w,{id:"password",name:"password",type:"password",class:["form-control",{"is-invalid":s["password"]}],placeholder:"請輸入密碼",rules:"required",modelValue:g.user.password,"onUpdate:modelValue":t[2]||(t[2]=function(e){return g.user.password=e})},null,8,["class","modelValue"]),h,Object(a["h"])(O,{name:"password",class:"invalid-feedback"})]),b]})),_:1},8,["onSubmit"])])]),m])]),Object(a["h"])("div",f,[g.isShowAlert?(Object(a["t"])(),Object(a["e"])(k,{key:0,customClass:g.alertClass,content:g.alertMsg},null,8,["customClass","content"])):Object(a["f"])("",!0)])],64)}s("99af"),s("ac1f"),s("5319");var g=document.querySelector("body"),j=document.querySelector("html"),w={data:function(){return{user:{username:"",password:""},alertClass:"alert-success",alertMsg:"HiHi",isShowAlert:!1}},inject:["emitter","$httpMessageState"],methods:{onLogin:function(){var e=this;this.$http.post("".concat("https://vue3-course-api.hexschool.io","/admin/signin"),this.user).then((function(t){t.data.success?(e.isShowAlert=!0,e.alertClass="alert-success",e.alertMsg=t.data.message,e.$httpMessageState(t,"登入"),setTimeout((function(){var s=t.data,a=s.token,c=s.expired;e.accessCookie(a,c),e.$router.push("/backend")}),1500)):(e.isShowAlert=!0,e.alertClass="alert-danger",e.alertMsg=t.data.message)})).catch((function(e){var t=e.response.data.message;console.log(t)}))},checkLogin:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/user/check");this.$http.post(t).then((function(t){t.data.success&&(e.isShowAlert=!0,e.alertClass="alert-warning",e.alertMsg="你已登入! 即將轉頁至後台",setTimeout((function(){e.$router.push("/backend")}),1500))})).catch((function(e){var t=e.response.data.message;console.log(t)}))},accessCookie:function(e,t){document.cookie="hexToken=".concat(e,";expires=").concat(new Date(t),"; path=/")}},created:function(){var e=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=e,this.checkLogin()},mounted:function(){g.className="Login-body-style Login-body-center",j.className="Login-body-center"},unmounted:function(){g.className="",j.className=""}};s("edde");w.render=p;t["default"]=w},edde:function(e,t,s){"use strict";s("69ba")}}]);
//# sourceMappingURL=chunk-07884b10.80c17fa3.js.map